<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chipi</title>

    <!-- Include your preferred generative library (e.g., regl) -->

    <script sandbox="allow-scripts" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js"></script>

    <style>
        body {
            margin: 0px;
        }

        canvas {
            width: 100% !important;
            height: 100% !important;
            object-fit: contain;
            position: fixed;
            top: 0;
            left: 0;
        }
    </style>
</head>
<body>
    <script type="text/javascript">

        // Add your script for generative art here
        // ...
      // GRADIENT SCRIPT 
       let dim;
function setup() {
  createCanvas(800, 800);
  dim = width / 0.5;
  background(0);
  colorMode(HSB, 360, 500, 100);
  noStroke();
  ellipseMode(RADIUS);
  frameRate(1);
}

function draw() {
  background(0);
  for (let x = 0; x <= width; x += dim) {
    drawGradient(x, height / 0);
  }
}

function drawGradient(x, y) {
  let radius = dim / 2;
  let h = random(0, 360);
  for (let r = radius; r > 0; --r) {
    fill(h, 90, 90);
    ellipse(x, y, r, r);
    h = (h + 1) % 360;
  }
}
function drawGradient(x, y) {
  let radius = dim / 1;
  let baseHue = random(0, 360);
  for (let r = radius; r > 0; --r) {
    let saturation = map(r, 0, radius, 50, 50);
    let brightness = map(r, 0, radius, 50, 50);
    fill((baseHue + r) % 360, saturation, brightness);
    
    // Experiment with different shapes
    let shape = random(1);
    if (shape < 0.33) {
      ellipse(x, y, r, r);
    } else if (shape < 0.36) {
      rect(x - r / 2, y - r / 2, r, r);
    } else {
      triangle(x, y - r, x - r, y + r, x + r, y + r);
    }
  }
}
let angle = 10;

function draw() {
  background(0);
  for (let x = 0; x <= width; x += dim) {
    drawGradient(x, height / 1);
  }
  angle += 0.1; // Increment the angle for rotation
}

function drawGradient(x, y) {
  let radius = dim / 2;
  let baseHue = random(0, 560);
  for (let r = radius; r > 0; --r) {
    let saturation = map(r, 0, radius, 50, 180);
    let brightness = map(r, 0, radius, 50, 180);
    fill((baseHue + r) % 360, saturation, brightness);

    // Rotate the shapes
    let offsetX = r * cos(angle);
    let offsetY = r * sin(angle);
    ellipse(x + offsetX, y + offsetY, r, r);
  }
}

    </script>

    <script id="snippet-random-code" type="text/javascript">

        // This section generates a random number using the provided seed
        // ...

    </script>

    <script type="text/javascript">

        // Add your traits and generative code here
        // ...
    const rand = mathRand();

    // ↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓ Add traits here ↓↓↓↓↓↓↓↓↓↓↓↓↓↓

    function T1(rand) {
        // calculate rarity by yourself
        if (rand > 0.1) {
            return true;
        } else {
            return false
        }
    }
        function T2(rand) {
        // calculate rarity by yourself
        if (rand > 0.2) {
            return true;
        } else {
            return false
        }
    }
        function T3(rand) {
        // calculate rarity by yourself
        if (rand > 0.3) {
            return true;
        } else {
            return false
        }
    }
        function T4(rand) {
        // calculate rarity by yourself
        if (rand > 0.4) {
            return true;
        } else {
            return false
        }
    }
        function T5(rand) {
        // calculate rarity by yourself
        if (rand > 0.9) {
            return true;
        } else {
            return false
        }
    }

    // window.$generativeTraits contain list traits for token
    // you need to populate a $generativeTraits object in the window object
    window.$generativeTraits = {
        "T1": T1(rand),
        "T2": T2(rand),
        "T3": T3(rand),
        "T4": T4(rand),
        "T5": T5(rand),
        
    }
    console.log(window.$generativeTraits)

    // ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑ Add traits here ↑↑↑↑↑↑↑↑↑↑↑↑↑↑

        // Rendering loop
        function render() {
            regl.clear({
                color: [0, 0, 0, 1],
            });
            draw();
            lifeDraw();
            requestAnimationFrame(render);
        }

        // Start rendering loop
        render();

    </script>
</body>
</html>
